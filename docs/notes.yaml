tags:
  - name: notes
    description: Everything About Notes

paths:
  /notes:
    post:
      tags:
        - notes
      summary: Create a new Note.
      description: Create a new Note with the provided details.
      requestBody:
        description: Note data to create.
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/NoteCreateRequest"
      responses:
        "201":
          description: Note created successfully.
        "400":
          description: Invalid or missing data.
        "401":
          description: Authorization token required / Invalid token.
        "500":
          description: Internal server error.

    get:
      tags:
        - notes
      summary: Get all notes data.
      description: Get a list of notes data based on the user's id determined from the JWT token passed in API request header.
      responses:
        "200":
          description: Note/Notes fetched successfully.
        "401":
          description: Authorization token required / Invalid token.
        "404":
          description: You don't have any notes yet.
        "500":
          description: Internal server error.

  /notes/{notes_id}:
    parameters:
        - name: notes_id
          in: path
          description: ID of Notes
          required: true
          schema:
            type: string
    get:
      tags:
      - notes
      summary: Get a Notes data providing specific notes_id.
      description: Get a Note data based on Note's ID passed in url and user's id determined from the JWT token passed in API request header.
      responses:
        "200":
          description: Note fetched successfully.
        "401":
          description: Authorization token required / Invalid token.
        "403":
          description: You are not author of this note.
        "404":
          description: Note not found.
        "500":
          description: Internal server error.

    put:
      tags:
        - notes

      summary: Update an existing Note providing its notes_id.
      description: Update an existing Note with the provided details. Note's ID will be received from url and user's id determined from the JWT token passed in API request header.
      requestBody:
        description: Note's data to update.
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/NoteUpdateRequest"
      responses:
        "200":
          description: Note updated successfully.
        "404":
          description: Note not found.
        "400":
          description: Authorization token required / Invalid token.
        "403":
          description: You are not author of this note.
        "500":
          description: Internal server error.

    delete:
      tags:
        - notes
      summary: Delete an existing Note providing its notes_id.
      description: Delete an existing Note using Note's ID, passed in url and user's id determined from the JWT token passed in API request header.
      responses:
        "200":
          description: Note deleted successfully.
        "404":
          description: Note not found.
        "400":
          description: Authorization token required / Invalid token.
        "403":
          description: You are not author of this note.
        "500":
          description: Internal server error.

  /notes/shared:
    post:
      tags:
        - notes
      summary: Share a Note with other user.
      description: Share a Note with other user by providing details. Note's ID and User' ID (to be shared with) will be passed in body.
      requestBody:
        description: Data to share a note with other user.
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/NoteShareRequest"
      responses:
        "200":
          description: Note shared successfully.
        "404":
          description: Note/User not found.
        "400":
          description: Authorization token required / Invalid token.
        "403":
          description: You are not author of this note.
        "500":
          description: Internal server error.

    get:
      tags:
        - notes
      summary: Read all Notes shared with a User.
      description: Read all Notes shared with a User. If notes are shared with a user, he can read them. User's id determined from the JWT token passed in API request header will be used.
      responses:
        "200":
          description: Shared notes fetched successfully.
        "404":
          description: Shared notes not found.
        "400":
          description: Authorization token required / Invalid token.
        "500":
          description: Internal server error.

components:
  schemas:
    NoteCreateRequest:
      type: object
      properties:
        title:
          type: string
          description: The name of the note. (min 4 characters, max 10 characters)
        body:
          type: string
          description: A body of the note. (min 10 characters, max 250 characters)
      required:
        - title
        - body

    NoteUpdateRequest:
      type: object
      properties:
        title:
          type: string
          description: The name of the note. (min 4 characters, max 10 characters)
        body:
          type: string
          description: A body of the note. (min 10 characters, max 250 characters)

    NoteShareRequest:
      type: object
      properties:
        noteId:
          type: string
          description: The id of the note which is being shared. (must be a UUID)
        sharedWithUserId:
          type: string
          description: The id of the user, a note is being shared with. (must be a UUID)
      required:
        - noteId
        - sharedWithUserId
